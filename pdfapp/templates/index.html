{% extends "base.html" %}

{% block title %}Home | PDF QA{% endblock %}

{% block content %}
<script>
    function showLoading() {
        document.getElementById("submit-btn").disabled = true;
        document.getElementById("loading").style.display = "block";
    }
</script>

<div class="container">
    <h2>Upload PDF and Ask a Question</h2>
    <form method="POST" enctype="multipart/form-data" onsubmit="showLoading()">
        {% csrf_token %}
        {{ form.as_p }}
        <button id="submit-btn" type="submit">Get Answer</button>
    </form>

    <div id="loading" style="display:none;">
        ‚è≥ Please wait... processing your question.
    </div>

    {% if error %}
    <p style="color:red;">{{ error }}</p>
    {% endif %}

    {% if answer %}
    <h3>Answer:</h3>
    <p>{{ answer }}</p>
    {% endif %}
</div>
{% endblock %}